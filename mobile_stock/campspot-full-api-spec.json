{"openapi":"3.0.0","info":{"title":"CampSpot API Documentation","version":"1.0.0","description":"Complete API documentation for CampSpot - Your ultimate camping booking and equipment rental platform. Test all endpoints directly from this interface!","contact":{"name":"CampSpot API Support","url":"https://github.com/ahmedmouelhi/Campspot12","email":"support@campspot.com"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"servers":[{"url":"https://campspot-production.up.railway.app","description":"Production server"},{"url":"http://localhost:5000","description":"Development server"}],"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"Activity":{"type":"object","required":["name","icon","description","duration","difficulty","price","category","maxParticipants"],"properties":{"_id":{"type":"string","description":"The auto-generated id of the activity"},"name":{"type":"string","description":"Activity name"},"icon":{"type":"string","description":"Activity icon (emoji or icon class)"},"description":{"type":"string","description":"Activity description"},"duration":{"type":"string","description":"Activity duration"},"difficulty":{"type":"string","enum":["Easy","Beginner","Intermediate","Advanced"],"description":"Difficulty level"},"price":{"type":"number","description":"Activity price"},"category":{"type":"string","description":"Activity category"},"maxParticipants":{"type":"integer","description":"Maximum number of participants"},"equipment":{"type":"array","items":{"type":"string"},"description":"Required equipment list"},"rating":{"type":"number","description":"Average rating"},"status":{"type":"string","enum":["active","inactive","full"],"description":"Activity status"}}},"Booking":{"type":"object","required":["userId","campingSiteId","checkInDate","checkOutDate","numberOfGuests"],"properties":{"id":{"type":"string","description":"Booking unique identifier"},"userId":{"type":"string","description":"ID of the user making the booking"},"campingSiteId":{"type":"string","description":"ID of the camping site being booked"},"checkInDate":{"type":"string","format":"date","description":"Check-in date"},"checkOutDate":{"type":"string","format":"date","description":"Check-out date"},"numberOfGuests":{"type":"integer","minimum":1,"description":"Number of guests for the booking"},"status":{"type":"string","enum":["pending","confirmed","cancelled"],"description":"Current status of the booking"},"totalPrice":{"type":"number","description":"Total price for the booking"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the booking was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the booking was last updated"}}},"BookingCreate":{"type":"object","required":["campingSiteId","checkInDate","checkOutDate","numberOfGuests"],"properties":{"campingSiteId":{"type":"string"},"checkInDate":{"type":"string","format":"date"},"checkOutDate":{"type":"string","format":"date"},"numberOfGuests":{"type":"integer","minimum":1}}},"AvailabilityCheck":{"type":"object","required":["campingSiteId","checkInDate","checkOutDate"],"properties":{"campingSiteId":{"type":"string"},"checkInDate":{"type":"string","format":"date"},"checkOutDate":{"type":"string","format":"date"}}},"AvailabilityResponse":{"type":"object","properties":{"available":{"type":"boolean"},"availableDates":{"type":"array","items":{"type":"string","format":"date"}}}},"CampingSite":{"type":"object","required":["name","description","type","location","price","maxGuests","availability"],"properties":{"_id":{"type":"string","description":"Auto-generated ID"},"name":{"type":"string","description":"Name of the camping site"},"description":{"type":"string","description":"Detailed description of the site"},"status":{"type":"string","enum":["active","inactive"],"default":"active"},"type":{"type":"string","enum":["tent","rv","cabin","glamping"]},"location":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"},"address":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"}}},"amenities":{"type":"array","items":{"type":"string"}},"price":{"type":"object","properties":{"amount":{"type":"number"},"currency":{"type":"string","default":"USD"}}},"images":{"type":"array","items":{"type":"string"}},"maxGuests":{"type":"number"},"rating":{"type":"number"},"reviews":{"type":"array","items":{"type":"object","properties":{"user":{"type":"string"},"rating":{"type":"number"},"comment":{"type":"string"},"date":{"type":"string","format":"date-time"}}}},"availability":{"type":"object","properties":{"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"}}}}},"User":{"type":"object","required":["email","password","name"],"properties":{"_id":{"type":"string","description":"The auto-generated id of the user"},"email":{"type":"string","format":"email","description":"User's email address"},"password":{"type":"string","description":"User's hashed password"},"name":{"type":"string","description":"User's full name"},"avatar":{"type":"string","description":"URL to user's avatar image"},"location":{"type":"string","description":"User's location"},"bio":{"type":"string","description":"User's biography"},"phone":{"type":"string","description":"User's phone number"},"preferences":{"type":"object","properties":{"preferredSites":{"type":"array","items":{"type":"string"}},"equipment":{"type":"array","items":{"type":"string"}},"notifications":{"type":"object","properties":{"email":{"type":"boolean"},"sms":{"type":"boolean"},"app":{"type":"boolean"}}}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}},"paths":{"/api/activities":{"get":{"summary":"Get all activities","tags":["Activities"],"parameters":[{"in":"query","name":"category","schema":{"type":"string"},"description":"Filter by category"},{"in":"query","name":"difficulty","schema":{"type":"string"},"description":"Filter by difficulty"},{"in":"query","name":"minPrice","schema":{"type":"number"},"description":"Minimum price filter"},{"in":"query","name":"maxPrice","schema":{"type":"number"},"description":"Maximum price filter"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Items per page"}],"responses":{"200":{"description":"List of activities","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Activity"}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"pages":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create new activity","tags":["Activities"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Activity"}}}},"responses":{"201":{"description":"Activity created successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Admin access required"}}}},"/api/activities/categories":{"get":{"summary":"Get all activity categories","tags":["Activities"],"responses":{"200":{"description":"List of categories"}}}},"/api/activities/stats":{"get":{"summary":"Get activity statistics","tags":["Activities"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Activity statistics"}}}},"/api/activities/{id}":{"get":{"summary":"Get activity by ID","tags":["Activities"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Activity ID"}],"responses":{"200":{"description":"Activity details","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/Activity"}}}}}},"404":{"description":"Activity not found"}}},"put":{"summary":"Update activity","tags":["Activities"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Activity ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Activity"}}}},"responses":{"200":{"description":"Activity updated successfully"},"404":{"description":"Activity not found"}}},"delete":{"summary":"Delete activity","tags":["Activities"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Activity ID"}],"responses":{"200":{"description":"Activity deleted successfully"},"404":{"description":"Activity not found"}}}},"/api/activities/{id}/reviews":{"post":{"summary":"Add review to activity","tags":["Activities"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Activity ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"rating":{"type":"number","minimum":1,"maximum":5},"comment":{"type":"string"}}}}}},"responses":{"200":{"description":"Review added successfully"},"400":{"description":"Validation error or already reviewed"},"404":{"description":"Activity not found"}}}},"/api/auth/register":{"post":{"summary":"Register a new user","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password","name"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":6},"name":{"type":"string"}}}}}},"responses":{"201":{"description":"User registered successfully"},"400":{"description":"Invalid request data"}}}},"/api/auth/login":{"post":{"summary":"Login user","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"user":{"type":"object"}}}}}},"401":{"description":"Invalid credentials"}}}},"/api/auth/profile":{"get":{"summary":"Get user profile","tags":["Authentication"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"User profile retrieved successfully"},"401":{"description":"Not authenticated"}}},"patch":{"summary":"Update user profile","tags":["Authentication"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"avatar":{"type":"string"},"location":{"type":"string"},"bio":{"type":"string"},"phone":{"type":"string"},"preferences":{"type":"object","properties":{"preferredSites":{"type":"array","items":{"type":"string"}},"equipment":{"type":"array","items":{"type":"string"}},"notifications":{"type":"object","properties":{"email":{"type":"boolean"},"sms":{"type":"boolean"},"app":{"type":"boolean"}}}}}}}}}},"responses":{"200":{"description":"Profile updated successfully"},"401":{"description":"Not authenticated"}}}},"/api/bookings":{"get":{"summary":"Get all bookings for the authenticated user","tags":["Bookings"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"List of user's bookings","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Booking"}}}}},"401":{"description":"Unauthorized"}}},"post":{"summary":"Create a new booking","tags":["Bookings"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingCreate"}}}},"responses":{"201":{"description":"Booking created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"400":{"description":"Invalid request body"}}}},"/api/bookings/{id}":{"get":{"summary":"Get a specific booking by ID","tags":["Bookings"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Booking details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"404":{"description":"Booking not found"}}},"put":{"summary":"Update a booking","tags":["Bookings"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingCreate"}}}},"responses":{"200":{"description":"Booking updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"404":{"description":"Booking not found"}}}},"/api/bookings/{id}/cancel":{"post":{"summary":"Cancel a booking","tags":["Bookings"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Booking cancelled successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"404":{"description":"Booking not found"}}}},"/api/bookings/check-availability":{"post":{"summary":"Check camping site availability for given dates","tags":["Bookings"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvailabilityCheck"}}}},"responses":{"200":{"description":"Availability check result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvailabilityResponse"}}}},"400":{"description":"Invalid request body"}}}},"/api/camping-sites/search":{"get":{"summary":"Search camping sites with filters","tags":["Camping Sites"],"parameters":[{"in":"query","name":"q","schema":{"type":"string"},"description":"Search query for name or description"},{"in":"query","name":"priceRange.min","schema":{"type":"number"}},{"in":"query","name":"priceRange.max","schema":{"type":"number"}},{"in":"query","name":"location","schema":{"type":"string"}},{"in":"query","name":"dates.checkIn","schema":{"type":"string","format":"date"}},{"in":"query","name":"dates.checkOut","schema":{"type":"string","format":"date"}},{"in":"query","name":"guests","schema":{"type":"integer","minimum":1}},{"in":"query","name":"amenities","schema":{"type":"array","items":{"type":"string"}}},{"in":"query","name":"type","schema":{"type":"array","items":{"type":"string","enum":["tent","rv","cabin","glamping"]}}},{"in":"query","name":"rating","schema":{"type":"number","minimum":0,"maximum":5}},{"in":"query","name":"page","schema":{"type":"integer","minimum":1,"default":1}},{"in":"query","name":"pageSize","schema":{"type":"integer","minimum":1,"maximum":50,"default":10}}],"responses":{"200":{"description":"List of camping sites matching the criteria","content":{"application/json":{"schema":{"type":"object","properties":{"sites":{"type":"array","items":{"$ref":"#/components/schemas/CampingSite"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}}},"/api/camping-sites/{id}":{"get":{"summary":"Get camping site by ID","tags":["Camping Sites"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Camping site ID"}],"responses":{"200":{"description":"Camping site details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CampingSite"}}}},"404":{"description":"Camping site not found"}}}},"/api/camping-sites/{id}/availability":{"get":{"summary":"Check camping site availability","tags":["Camping Sites"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Availability status","content":{"application/json":{"schema":{"type":"object","properties":{"available":{"type":"boolean"},"bookedDates":{"type":"array","items":{"type":"string","format":"date"}}}}}}},"404":{"description":"Camping site not found"}}}},"/api/health":{"get":{"summary":"Check API health status","tags":["Health"],"responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"healthy"},"uptime":{"type":"number","description":"Server uptime in seconds"},"timestamp":{"type":"string","format":"date-time"},"mongodb":{"type":"string","enum":["connected","disconnected"]},"environment":{"type":"string"},"version":{"type":"string"}}}}}}}}}},"tags":[{"name":"Authentication","description":"User authentication endpoints"},{"name":"Bookings","description":"Booking management endpoints"},{"name":"Camping Sites","description":"Camping site management and search"},{"name":"Health","description":"Health check endpoint"}]}
